#!/usr/bin/python3

import pyjst
import argparse
import os

parser = argparse.ArgumentParser(description='Bake a template from corresponding JSON object')
parser.add_argument('template', metavar='template', type=str, help='template name')
args = parser.parse_args()

instance = pyjst.Baker()
r = instance.bake(args.template)

output_path = os.path.join('output', args.template+'.html')
os.makedirs(os.path.dirname(output_path), exist_ok=True)

with open(output_path, 'w') as f:
    f.write(r)
print("Written file to {}".format(output_path))
